{"version":3,"sources":["webpack:///./templates/loadMoreButton.hbs","webpack:///./templates/gallery-card.hbs","webpack:///./js/form.js","webpack:///./js/fetchImage.js","webpack:///./index.js","webpack:///./js/generateMarkup.js","webpack:///./js/apiService.js","webpack:///./templates/form.hbs"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","overlay1","document","querySelector","overlay2","search","input","addEventListener","classList","toggle","onblur","removeAttribute","contains","setTimeout","focus","setAttribute","e","value","remove","body","target","length","keyCode","blur","_","debounce","add","FetchImage","pagesCount","this","searchQuery","getPageOfImagesByName","searchValue","localStorage","getItem","fetch","then","res","json","status","images","catch","error","notification","checkInput","newQuery","inputElement","galleryBlock","imagesBlock","searchForm","loadMoreButton","searchObject","refs","imagesMarkup","onSearch","bind","appendImagesMarkUp","loadMoreImagesMarkUp","init","event","clearImagesMarkUp","query","trim","removeLoadMoreBtn","clearInputField","fetchReturn","appendLoadMoreBtn","children","window","onload","insertAdjacentHTML","buttonTpl","console","log","documentElement","clientHeight","innerHTML","total","totalHits","hits","showImages","galleryCardTpl","showImagesList","searchBlock","countriesListTpl","parameters"],"mappings":"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","file":"main.90ffd2b678a7216fa200.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<button class=\\\"gallery__load-more-btn\\\" type=\\\"button\\\" data-load-more>\\r\\n    <p>\\r\\n        Load more...\\r\\n    </p>\\r\\n</button>\\r\\n\";\n},\"useData\":true});","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"    <li class=\\\"gallery__image-item\\\">\\r\\n        <div class=\\\"photo-card\\\">\\r\\n            <div class=\\\"image-wrap\\\">\\r\\n                <img loading = \\\"lazy\\\" src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":43},\"end\":{\"line\":5,\"column\":59}}}) : helper)))\n    + \"\\\" alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"tags\") || (depth0 != null ? lookupProperty(depth0,\"tags\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"tags\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":66},\"end\":{\"line\":5,\"column\":74}}}) : helper)))\n    + \"\\\"/>\\r\\n            </div>\\r\\n        \\r\\n            <div class=\\\"stats\\\">\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n                    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":20},\"end\":{\"line\":11,\"column\":29}}}) : helper)))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">visibility</i>\\r\\n                    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":20},\"end\":{\"line\":15,\"column\":29}}}) : helper)))\n    + \"\\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">comment</i>\\r\\n                    0 \\r\\n                </p>\\r\\n                <p class=\\\"stats-item\\\">\\r\\n                    <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n                    \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":23,\"column\":20},\"end\":{\"line\":23,\"column\":33}}}) : helper)))\n    + \"\\r\\n                </p>\\r\\n            </div>\\r\\n        </div>\\r\\n    </li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":28,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"\\r\\n\";\n},\"useData\":true});","import { debounce } from 'lodash';\r\n\r\nconst overlay1 = document.querySelector('.overlay-1');\r\nconst overlay2 = document.querySelector('.overlay-2');\r\nconst search   = document.querySelector('.search');\r\nconst input    = document.querySelector('.input');\r\n\r\n\r\nlet searchValue = '';\r\n\r\noverlay1.addEventListener('click', () => {\r\n  search.classList.toggle('active');\r\n    input.onblur = input.removeAttribute('placeholder');\r\n\r\n  if (search.classList.contains('active')) {\r\n    setTimeout(() => {\r\n      input.focus();\r\n    }, 200)\r\n  }\r\n})\r\n\r\nsearch.addEventListener('click', () => {\r\n  if (search.classList.contains('active')) {\r\n    setTimeout(() => {\r\n      input.focus();\r\n      input.setAttribute('placeholder', 'Search images...');\r\n    }, 200)\r\n  }\r\n})\r\n\r\noverlay2.addEventListener('click', (e) => {\r\n  input.value = '';\r\n  input.focus();\r\n  search.classList.remove('searching');\r\n  input.removeAttribute('placeholder');\r\n  input.classList.toggle('input__animation');\r\n})\r\n\r\ndocument.body.addEventListener('click', (e) => {\r\n  if (!search.contains(e.target) && input.value.length === 0) {\r\n    search.classList.remove('active');\r\n    search.classList.remove('searching');\r\n    input.value  = '';\r\n    input.onblur = input.removeAttribute('placeholder');\r\n  }\r\n})\r\n\r\ninput.addEventListener('keyup', (e) => {\r\n  if (e.keyCode === 13) {\r\n    input.blur();\r\n  }\r\n})\r\n\r\ninput.addEventListener('input', _.debounce(() => {\r\n  if (input.value.length > 0) {\r\n    input.classList.remove('input__animation');\r\n    search.classList.add('searching');\r\n    searchValue = input.value;\r\n    // localStorage.setItem(\"searchValue\", searchValue);\r\n  } else {\r\n    search.classList.remove('searching');\r\n  }\r\n}, 1000))\r\n\r\ninput.value = '';\r\ninput.blur();\r\n","// import { error } from \"@pnotify/core\";\r\n// import { notification } from './notification';\r\n\r\nexport default class FetchImage {\r\n  constructor(pagesCount) { // imageRequestValue,\r\n    this.searchQuery = '';\r\n    this.pagesCount = pagesCount;\r\n  }\r\n\r\n  getPageOfImagesByName(pagesCount, searchValue) {\r\n    if (pagesCount > 1) {\r\n      searchValue = this.localStorage.getItem(searchValue);\r\n    } else {\r\n      searchValue = this.searchQuery;\r\n    }\r\n\r\n    return fetch(`https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchValue}&page=${this.pagesCount}&per_page=12&key=19206966-979935191003b7da2f180a9ff`)\r\n      .then(res => res.json(), res => res.status)\r\n      .then(images => {return images;})\r\n      .catch(error=> notification('error', \"Enter country name!\"))\r\n  }\r\n  \r\n  checkInput() {\r\n    if(this.searchQuery = '') {\r\n      return;\r\n    }\r\n  }\r\n\r\n  get query() {\r\n      return this.searchQuery;\r\n  }\r\n\r\n  set query(newQuery) {\r\n    this.searchQuery = newQuery;\r\n  }\r\n}\r\n","import './js/form.js';\r\nimport '../css/normalize.css';\r\nimport '../css/reset.css';\r\nimport '../css/main.min.css';\r\n// import '@pnotify/core/dist/PNotify.css';\r\n// import '@pnotify/core/dist/BrightTheme.css';\r\nimport GenerateMarkup from './js/generateMarkup.js';\r\nimport FetchImage from './js/fetchImage.js'\r\nimport parameters from \"./js/apiService.js\";\r\n\r\nconst fetchImage = new FetchImage({ parameters });\r\n\r\nconst renderMarkup = new GenerateMarkup(\r\n  {\r\n    inputElement: '.input',\r\n    galleryBlock: '.gallery__block',\r\n    imagesBlock:  '.gallery',\r\n    searchForm:   '.search-form',\r\n    loadMoreButton: '[data-load-more]',\r\n    searchObject: fetchImage,\r\n  } \r\n);\r\n","import FetchImage     from './fetchImage';\r\nimport galleryCardTpl from '../templates/gallery-card.hbs';\r\nimport buttonTpl      from '../templates/loadMoreButton.hbs';\r\nimport formTpl from '../templates/form.hbs';\r\nimport './form.js';\r\nimport { debounce, filter, bind } from 'lodash';\r\n\r\n// import preloaderTpl from '../templates/preloader.hbs';\r\n// import { notification } from './notification';\r\n// import searchValue from './form';\r\n// const debounce     = require('lodash.debounce');\r\n// const formOfSearch = require('./form.js').default;\r\n// import * as fetchImage from './js/apiService.js';\r\n// import * as basicLightbox from 'basiclightbox';\r\n\r\n\r\nexport default class GenerateMarkup {\r\n  constructor({ inputElement, galleryBlock, imagesBlock, searchForm, loadMoreButton, searchObject }) { \r\n    this.refs = {\r\n      input:          document.querySelector(inputElement),\r\n      galleryBlock:   document.querySelector(galleryBlock),\r\n      imagesMarkup:   document.querySelector(imagesBlock),\r\n      searchForm:     document.querySelector(searchForm),\r\n      loadMoreButton: document.querySelector(loadMoreButton),\r\n      searchObject:   searchObject,\r\n    };\r\n \r\n    this.onSearch             = this.onSearch.bind(this);\r\n    this.appendImagesMarkUp   = this.appendImagesMarkUp.bind(this);\r\n    this.loadMoreImagesMarkUp = this.loadMoreImagesMarkUp.bind(this);\r\n    \r\n    this.init();\r\n  }\r\n  \r\n  init() {\r\n    this.debounce = debounce(this.onSearch, 500);\r\n    this.refs.input.addEventListener('input', this.debounce);\r\n  }\r\n  \r\n  onSearch(event) { \r\n    if (this.refs.searchObject.pagesCount = 1) {\r\n      this.clearImagesMarkUp();\r\n      this.refs.searchObject.query = event.target.value.trim();\r\n      this.removeLoadMoreBtn();\r\n\r\n      if (this.refs.searchObject.query === '') {\r\n        this.clearInputField();\r\n        return;\r\n      }\r\n    }\r\n   \r\n    this.fetchReturn();\r\n    this.appendLoadMoreBtn();\r\n  }\r\n\r\n  \r\n  // showBigImage(hits) {\r\n  //   let {largeImageURL} = hits;\r\n  //   const instance = basicLightbox.create(`<img src=\"assets/images/image.png\" width=\"800\" height=\"600\">`);\r\n  //   instance.show();\r\n  // }\r\n  \r\n  loadMoreImagesMarkUp(event) {\r\n    \r\n    if (document.querySelector('.gallery').children.length > 0) {\r\n      this.refs.searchObject.pagesCount += 1;\r\n    } else {\r\n      this.clearInputField('gallery__load-more-btn');\r\n      return;\r\n    } \r\n    \r\n    this.fetchReturn();\r\n   \r\n    // this.refs.galleryBlock.scrollTo(0, window.innerHeight);\r\n\r\n    // if (!document.querySelector('#cube-loader')) {\r\n    //   this.refs.galleryBlock.insertAdjacentHTML('afterbegin', preloaderTpl());\r\n    // }\r\n\r\n    // this.removePreloader();\r\n  } \r\n\r\n  // removePreloader() {\r\n  //   window.onload = document.querySelector('#cube-loader').innerHTML = '';\r\n  // }\r\n  \r\n  fetchReturn() {\r\n    return window.onload = this.refs.searchObject\r\n      .getPageOfImagesByName() //this.pagesCount, searchValueForLoadMoreMethod\r\n      .then(this.appendImagesMarkUp)\r\n      .then(this.clearInputField)\r\n      .catch(); //this.onCatchError.bind(this)\r\n  }\r\n\r\n  appendLoadMoreBtn() {\r\n    if (!document.querySelector('[data-load-more]')) {\r\n      this.refs.galleryBlock.insertAdjacentHTML('beforeend', buttonTpl());\r\n    }\r\n    document.querySelector('[data-load-more]').addEventListener('click', this.loadMoreImagesMarkUp);\r\n    console.log(document.documentElement.clientHeight);\r\n  }\r\n\r\n  removeLoadMoreBtn() {\r\n    return this.refs.imagesMarkup.innerHTML = '';\r\n  }\r\n\r\n  appendImagesMarkUp(images) {\r\n    let { total, totalHits, hits } = images;\r\n    this.showImages(hits);\r\n  }\r\n  \r\n  showImages(hits) {\r\n    this.refs.imagesMarkup.insertAdjacentHTML('beforeend', galleryCardTpl(hits));\r\n  }\r\n  \r\n  showImagesList(hits) {\r\n    if (this.refs.imagesMarkup.children.length > 0) {\r\n      this.pagesCount += 1;\r\n      this.loadMoreImagesMarkUp;\r\n    }\r\n    this.refs.searchBlock.insertAdjacentHTML('beforeend', countriesListTpl(hits));\r\n  }\r\n  \r\n  clearImagesMarkUp() {\r\n    return this.refs.imagesMarkup.innerHTML = '';\r\n  }\r\n  \r\n  clearInputField() {\r\n    return this.refs.input.value = '';\r\n  }\r\n\r\n // //   onCatchError() {\r\n // //     this.clearInputField();\r\n // //     notification();\r\n // //     return;\r\n // //   }\r\n}\r\n","export default [\r\n    {\r\n        pagesCount: 1,\r\n        searchValue: \"\",\r\n    }\r\n]","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    return \"<div class=\\\"search\\\">\\r\\n    <input class=\\\"input\\\" type=\\\"text\\\">\\r\\n    <svg viewBox=\\\"0 0 700 100\\\" class=\\\"magnifying-glass\\\">\\r\\n        <path class=\\\"magnifying-glass-path\\\"\\r\\n            d=\\\"m 59.123035,59.123035 c -10.561361,10.56136 -27.684709,10.56136 -38.24607,0 -10.56136,-10.561361 -10.56136,-27.684709 0,-38.24607 10.561361,-10.56136 27.684709,-10.56136 38.24607,0 10.56136,10.561361 10.56136,27.684709 0,38.24607 l 28.876965,28.876965 c 6.304625,7.101523 5.754679,-0.187815 13.07143,-0.5 h 582.04101\\\" />\\r\\n        <path class=\\\"x\\\"\\r\\n            d=\\\"m 673.46803,25.714286 -37.17876,38.816532 c 0,0 -5.08857,5.60515 -5.68529,11.841734 -1.06622,11.143538 13.02902,11.127448 13.02902,11.127448\\\" />\\r\\n        <path class=\\\"x\\\"\\r\\n            d=\\\"m 635.08021,25.714286 37.17876,38.816532 c 0,0 5.08857,5.60515 5.68529,11.841734 1.06622,11.143538 -13.02902,11.127448 -13.02902,11.127448\\\" />\\r\\n    </svg>\\r\\n    <div class=\\\"overlay overlay-1\\\"></div>\\r\\n    <div class=\\\"overlay overlay-2\\\"></div>\\r\\n</div>\\r\\n\";\n},\"useData\":true});"],"sourceRoot":""}